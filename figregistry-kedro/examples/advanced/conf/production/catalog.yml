# Production-Optimized Kedro Catalog Configuration
# FigRegistry-Kedro Advanced Example - Production Environment
#
# This catalog provides enterprise-grade FigureDataSet configurations optimized for
# production deployment with performance targets meeting <20ms save overhead SLA
# requirements. All configurations prioritize efficiency while maintaining full
# functionality for automated figure management in production pipelines.
#
# Performance Optimizations:
# - Streamlined dataset parameters for minimal computational overhead
# - Optimized versioning strategies with efficient I/O patterns
# - High-performance condition parameter resolution
# - Enterprise-appropriate output path management
# - Production-grade styling with minimal latency

# ============================================================================
# TRAINING PIPELINE FIGURES - PRODUCTION OPTIMIZED
# ============================================================================

# Model Performance Visualizations - Streamlined Configuration
model_performance_chart:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/model_performance_${params:experiment_id}.png
  purpose: presentation
  condition_param: model_type
  # Production optimization: Minimal style parameters for <20ms SLA
  style_params:
    figure.dpi: 150  # Reduced from 300 for faster I/O
    figure.facecolor: white
    axes.grid: true
  # Optimized save arguments for production performance
  save_args:
    bbox_inches: tight
    transparent: false
    optimize: true  # PNG optimization for faster writes
  # Production versioning: Streamlined for enterprise workflows
  version: &version_config
    enabled: true
  metadata:
    tags: ["production", "model_training", "performance_monitoring"]
    purpose: "High-performance model evaluation visualization"
    sla_target: "20ms_save_overhead"

# Feature Importance Analysis - High-Performance Configuration
feature_importance_plot:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/feature_importance_${params:experiment_id}.png
  purpose: presentation
  condition_param: feature_selection_method
  # Production-optimized styling for minimal overhead
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    axes.labelsize: 10  # Optimized text rendering
  save_args:
    bbox_inches: tight
    pad_inches: 0.1  # Minimal padding for faster processing
    optimize: true
  version: *version_config
  metadata:
    tags: ["production", "feature_analysis", "model_interpretation"]
    sla_target: "20ms_save_overhead"

# Training Convergence Charts - Enterprise Performance Configuration
training_convergence_plot:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/training_convergence_${params:experiment_id}.png
  purpose: presentation
  condition_param: optimization_algorithm
  # Streamlined for production deployment
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    lines.linewidth: 1.5  # Optimized line rendering
  save_args:
    bbox_inches: tight
    optimize: true
    # Production-specific: Reduced quality for faster I/O
    quality: 85  # Optimized JPEG quality when format=jpg
  version: *version_config
  metadata:
    tags: ["production", "training_monitoring", "optimization"]
    sla_target: "20ms_save_overhead"

# ============================================================================
# INFERENCE PIPELINE FIGURES - PRODUCTION OPTIMIZED
# ============================================================================

# Prediction Distribution Analysis - High-Throughput Configuration
prediction_distribution_plot:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/predictions_${params:inference_batch_id}.png
  purpose: exploratory
  condition_param: inference_mode
  # Production optimization: Minimal processing overhead
  style_params:
    figure.dpi: 120  # Further reduced for inference speed
    figure.facecolor: white
    hist.bins: 30  # Optimized histogram resolution
  save_args:
    bbox_inches: tight
    optimize: true
    # Production inference: Priority on speed over quality
    compress_level: 6  # PNG compression optimization
  version: *version_config
  metadata:
    tags: ["production", "inference", "batch_processing"]
    sla_target: "20ms_save_overhead"
    processing_priority: "speed"

# Model Confidence Visualization - Enterprise Deployment Configuration
confidence_analysis_plot:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/confidence_${params:inference_batch_id}.png
  purpose: presentation
  condition_param: confidence_threshold
  # Streamlined for production inference pipelines
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    axes.grid: false  # Reduced rendering complexity
  save_args:
    bbox_inches: tight
    optimize: true
    # Production-specific format optimization
    format: png
    compress_level: 6
  version: *version_config
  metadata:
    tags: ["production", "inference", "confidence_analysis"]
    sla_target: "20ms_save_overhead"

# Error Analysis Dashboard - High-Performance Production Configuration
error_analysis_dashboard:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/error_analysis_${params:inference_batch_id}.png
  purpose: presentation
  condition_param: error_analysis_type
  # Production optimization: Balanced quality and performance
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    # Optimized subplot configuration for dashboard
    figure.subplot.wspace: 0.3
    figure.subplot.hspace: 0.3
  save_args:
    bbox_inches: tight
    optimize: true
    # Enterprise deployment: Consistent format
    format: png
    compress_level: 6
  version: *version_config
  metadata:
    tags: ["production", "error_analysis", "dashboard"]
    sla_target: "20ms_save_overhead"

# ============================================================================
# REPORTING PIPELINE FIGURES - ENTERPRISE OPTIMIZED
# ============================================================================

# Executive Summary Report - Publication-Quality Production Configuration
executive_summary_report:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/executive_summary_${params:report_date}.png
  purpose: publication
  condition_param: report_type
  # Production publication: Optimized high-quality output
  style_params:
    figure.dpi: 200  # Higher DPI for executive reports
    figure.facecolor: white
    font.size: 12
    axes.titlesize: 14
    # Enterprise branding optimizations
    axes.labelcolor: "#333333"
    text.color: "#333333"
  save_args:
    bbox_inches: tight
    transparent: false
    optimize: true
    # Publication quality with production efficiency
    quality: 95
  version: *version_config
  metadata:
    tags: ["production", "executive_reporting", "publication"]
    sla_target: "20ms_save_overhead"
    quality_tier: "publication"

# Performance Benchmark Summary - Enterprise Dashboard Configuration
benchmark_summary_plot:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/benchmarks_${params:benchmark_date}.png
  purpose: presentation
  condition_param: benchmark_category
  # Production benchmarking: Efficient visualization
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    # Optimized for dashboard display
    axes.grid: true
    grid.alpha: 0.3
  save_args:
    bbox_inches: tight
    optimize: true
    # Production dashboard optimization
    compress_level: 6
  version: *version_config
  metadata:
    tags: ["production", "benchmarking", "performance_monitoring"]
    sla_target: "20ms_save_overhead"

# Regulatory Compliance Report - Enterprise Audit Configuration
compliance_report_figure:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/compliance_${params:audit_period}.png
  purpose: publication
  condition_param: compliance_framework
  # Enterprise compliance: Audit-grade quality with production efficiency
  style_params:
    figure.dpi: 200
    figure.facecolor: white
    # Compliance-specific styling
    font.family: "serif"
    font.size: 11
    axes.linewidth: 1.0
  save_args:
    bbox_inches: tight
    transparent: false
    optimize: true
    # Compliance archival requirements
    format: png
    compress_level: 3  # Higher quality for regulatory archives
  version: *version_config
  metadata:
    tags: ["production", "compliance", "regulatory", "audit"]
    sla_target: "20ms_save_overhead"
    retention_policy: "long_term"

# ============================================================================
# MONITORING AND OBSERVABILITY FIGURES - PRODUCTION OPTIMIZED
# ============================================================================

# Pipeline Performance Monitor - Real-Time Production Configuration
pipeline_performance_monitor:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/pipeline_performance_${params:monitoring_timestamp}.png
  purpose: exploratory
  condition_param: monitoring_scope
  # Production monitoring: Optimized for rapid updates
  style_params:
    figure.dpi: 120  # Optimized for monitoring dashboards
    figure.facecolor: white
    axes.grid: true
    # Real-time monitoring optimizations
    lines.linewidth: 1.0
    markers.size: 4
  save_args:
    bbox_inches: tight
    optimize: true
    # High-frequency updates: Speed over quality
    compress_level: 9  # Maximum compression for monitoring
  version: *version_config
  metadata:
    tags: ["production", "monitoring", "real_time", "pipeline_performance"]
    sla_target: "20ms_save_overhead"
    update_frequency: "high"

# Data Quality Assessment - Production Quality Monitoring
data_quality_assessment:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/data_quality_${params:quality_check_id}.png
  purpose: presentation
  condition_param: quality_metric_type
  # Production data quality: Efficient assessment visualization
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    # Quality assessment optimizations
    axes.grid: true
    grid.linestyle: "--"
    grid.alpha: 0.5
  save_args:
    bbox_inches: tight
    optimize: true
    # Production quality monitoring
    compress_level: 6
  version: *version_config
  metadata:
    tags: ["production", "data_quality", "monitoring"]
    sla_target: "20ms_save_overhead"

# Resource Utilization Dashboard - Enterprise Operations Configuration
resource_utilization_dashboard:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/resource_utilization_${params:ops_timestamp}.png
  purpose: presentation
  condition_param: resource_metric_scope
  # Enterprise operations: Efficient resource monitoring
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    # Operations dashboard optimizations
    figure.subplot.wspace: 0.4
    figure.subplot.hspace: 0.4
    axes.labelsize: 9
  save_args:
    bbox_inches: tight
    optimize: true
    # Operations monitoring efficiency
    compress_level: 7
  version: *version_config
  metadata:
    tags: ["production", "operations", "resource_monitoring", "dashboard"]
    sla_target: "20ms_save_overhead"

# ============================================================================
# A/B TESTING AND EXPERIMENTATION - PRODUCTION CONFIGURATION
# ============================================================================

# A/B Test Results Visualization - Production Analytics Configuration
ab_test_results_plot:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/ab_test_${params:test_id}_${params:experiment_date}.png
  purpose: presentation
  condition_param: statistical_test_type
  # Production A/B testing: Statistical visualization efficiency
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    # A/B test specific optimizations
    axes.grid: true
    errorbar.capsize: 3
    errorbar.capthick: 1
  save_args:
    bbox_inches: tight
    optimize: true
    # Analytics production efficiency
    compress_level: 6
  version: *version_config
  metadata:
    tags: ["production", "ab_testing", "experimentation", "analytics"]
    sla_target: "20ms_save_overhead"

# Experiment Comparison Matrix - Enterprise Analytics Configuration
experiment_comparison_matrix:
  type: figregistry_kedro.FigureDataSet
  filepath: data/08_reporting/experiment_comparison_${params:comparison_id}.png
  purpose: presentation
  condition_param: comparison_metric_type
  # Enterprise experimentation: Comprehensive comparison visualization
  style_params:
    figure.dpi: 150
    figure.facecolor: white
    # Matrix visualization optimizations
    image.cmap: "RdYlBu_r"
    image.aspect: "auto"
    axes.labelsize: 10
  save_args:
    bbox_inches: tight
    optimize: true
    # Comparison matrix efficiency
    compress_level: 6
  version: *version_config
  metadata:
    tags: ["production", "experiment_comparison", "analytics"]
    sla_target: "20ms_save_overhead"

# ============================================================================
# PRODUCTION ENVIRONMENT METADATA AND CONFIGURATION
# ============================================================================

# Global production configuration metadata for all datasets
_production_config_metadata:
  performance_profile: "production_optimized"
  sla_requirements:
    figure_dataset_save_overhead: "20ms"
    config_bridge_resolution: "5ms"
    hook_initialization: "150ms"
  environment_tier: "production"
  deployment_context: "enterprise_pipeline"
  optimization_priority: "performance_over_quality"
  monitoring_enabled: true
  enterprise_compliance: true

# Production-specific dataset defaults applied to all FigureDataSet entries
_dataset_defaults: &production_defaults
  # Performance optimization defaults
  performance_optimized: true
  cache_enabled: true
  concurrent_access_safe: true
  
  # Enterprise deployment defaults
  audit_trail_enabled: true
  metadata_tracking: true
  error_handling: "production"
  
  # Quality vs speed optimization profile
  quality_profile: "production_balanced"
  compression_priority: "speed"
  io_optimization: "throughput"

# Applied to all FigureDataSet entries via YAML anchors and inheritance
# This ensures consistent production optimization across all figure datasets
# while maintaining the flexibility for dataset-specific customizations